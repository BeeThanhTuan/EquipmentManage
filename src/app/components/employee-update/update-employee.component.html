<div class="overlay" id="overlayUpdate">
    <div class="info-detail">
        <div class="remove" (click)="removeEmployeeUpdatePopup()">
            <i class="fa-solid fa-xmark"></i>
        </div>
        <form [formGroup]="employeeUpdateForm" (ngSubmit)="updateEmployee()">
            <p class="title">Update Employee Profile</p>
            <div class="img-area">
                <img [src]="imageUrl || '../assets/images/employee.png'" alt="">
                <div class="btn-change-avatar">
                    <input type="file" (change)="onImageChange($event)">
                    <i class="fa-solid fa-camera"></i>
                </div>
            </div>
            <div class="vertical-scroll">
                <div class="info-employee">
                    <div class="info">
                        <label>ID</label>
                        <input type="text" formControlName="id">
                    </div>
                    <div class="info">
                        <label>Gender</label>
                        <select formControlName="gender">
                            <option value="0">Male</option>
                            <option value="1">Female</option>
                        </select>
                    </div>
                    <div class="info">
                        <label>Name</label>
                        <div>
                            <input type="text" formControlName="name" (blur)="updateFullname()">
                            <span [ngClass]="{
                                'validating':nameControl?.valid && (nameControl?.dirty || nameControl?.touched),
                                'invalidating': nameControl?.invalid && (nameControl?.dirty || nameControl?.touched)
                            }"></span>
                        </div>
                        <div *ngIf="nameControl?.invalid && (nameControl?.dirty || nameControl?.touched)">
                            <div class="invalid" *ngIf="nameControl?.hasError('required')">Name is required.</div>
                        </div>
                    </div>
                    <div class="info">
                        <label>Surname - Middle name</label>
                        <div>
                            <input type="text" formControlName="surname" (blur)="updateFullname()">
                            <span [ngClass]="{
                                'validating':surnameControl?.valid && (surnameControl?.dirty || surnameControl?.touched),
                                'invalidating': surnameControl?.invalid && (surnameControl?.dirty || surnameControl?.touched)
                            }"></span>
                        </div>
                        <div *ngIf="surnameControl?.invalid && (surnameControl?.dirty || surnameControl?.touched)">
                            <div class="invalid" *ngIf="surnameControl?.hasError('required')">Surname is required.</div>
                        </div>
                    </div>
                    <div class="info">
                        <label>Phone number</label>
                        <div>
                            <input type="text" formControlName="phoneNumber" (input)="formatPhoneNumber($event)">
                            <span [ngClass]="{
                                'validating': phoneNumberControl?.valid && ( phoneNumberControl?.dirty ||  phoneNumberControl?.touched),
                                'invalidating':  phoneNumberControl?.invalid && ( phoneNumberControl?.dirty ||  phoneNumberControl?.touched)
                            }"></span>
                        </div>
                        <div *ngIf="phoneNumberControl?.invalid && (phoneNumberControl?.dirty || phoneNumberControl?.touched)">
                            <div class="invalid" *ngIf="phoneNumberControl?.hasError('required')">Number phone is required.</div>
                            <div class="invalid" *ngIf="phoneNumberControl?.hasError('numeric')">Number phone must be a number.</div>
                            <div class="invalid" *ngIf="phoneNumberControl?.hasError('minlength')">Number phone must be at least 10 number long.</div>
                            <div class="invalid" *ngIf="phoneNumberControl?.hasError('maxlength')">Maximum phone number 10 numbers.</div>
                        </div>
                    </div>
                    <div class="info">
                        <label>Email</label>
                        <div>
                            <input type="email" formControlName="email">
                            <span [ngClass]="{
                                'validating': emailControl?.valid && ( emailControl?.dirty ||  emailControl?.touched),
                                'invalidating':  emailControl?.invalid && ( emailControl?.dirty ||  emailControl?.touched)
                            }"></span>
                        </div>
                        <div *ngIf="emailControl?.invalid && (emailControl?.dirty || emailControl?.touched)">
                            <div class="invalid" *ngIf="emailControl?.hasError('required')">Email is required.</div>
                            <div class="invalid" *ngIf="emailControl?.hasError('email')">Email invalid.</div>
                        </div>
                    </div>
                    <div class="info">
                        <label>Address</label>
                        <div>
                            <input type="text" formControlName="address">
                            <span [ngClass]="{
                                'validating':addressControl?.valid && (addressControl?.dirty || addressControl?.touched),
                                'invalidating': addressControl?.invalid && (addressControl?.dirty || addressControl?.touched)
                            }"></span>
                        </div>
                        <div *ngIf="addressControl?.invalid && (addressControl?.dirty || addressControl?.touched)">
                            <div class="invalid" *ngIf="addressControl?.hasError('required')">Address is required.</div>
                        </div>
                    </div>
                    <div class="info">
                        <label>Date of Birth</label>
                        <input type="date" formControlName="dateOfBirth">
                    </div>
                </div>
            </div>
            <div class="option">
                <button [disabled]="employeeUpdateForm.invalid">Save change</button>
            </div>
        </form>
    </div>
</div>