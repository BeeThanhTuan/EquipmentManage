<div class="overlay" id="overlayUpdate">
    <div class="info-detail" (click)="removeSearchIDEmployeeOverLay($event)">
        <div class="remove" (click)="removeEmquimentUpdatePopup()">
            <i class="fa-solid fa-xmark"></i>
        </div>
        <form [formGroup]="equimentUpdateForm" (ngSubmit)="updateEquipment()">
            <p class="title">Update Equipment</p>
            <div class="vertical-scroll">
                <div class="upload-area">
                    <div class="upload-box">
                        <div class="upload">
                            <i class="fa-solid fa-upload"></i>
                            <p>Choose image</p>
                        </div>
                        <div class="img-choosed" *ngIf="imageUrl">
                            <img [src]="imageUrl" alt="">
                        </div>
                        <div class="btn-choose-img">
                            <input type="file" (change)="onImageChange($event)">
                        </div>
                    </div>
                    <button *ngIf="imageUrl" (click)="removeImage()">Cancel</button>
                </div>
                <div class="info-equipment">
                    <div class="info">
                        <label>ID</label>
                        <input style="pointer-events: none;" type="text" formControlName="id">
                    </div>
                    <div class="info">
                        <label>Name</label>
                        <div>
                            <input type="text" formControlName="name">
                            <span [ngClass]="{
                                'validating':nameControl?.valid && (nameControl?.dirty || nameControl?.touched),
                                'invalidating': nameControl?.invalid && (nameControl?.dirty || nameControl?.touched)
                            }"></span>
                        </div>
                        <div *ngIf="nameControl?.invalid && (nameControl?.dirty || nameControl?.touched)">
                            <div class="invalid" *ngIf="nameControl?.hasError('required')">Name is required.</div>
                        </div>
                    </div>
                    <div class="info description">
                        <label>Description</label>
                        <div>
                            <textarea formControlName="description"></textarea>
                            <span [ngClass]="{
                                'validating':descriptionControl?.valid && (descriptionControl?.dirty || descriptionControl?.touched),
                                'invalidating': descriptionControl?.invalid && (descriptionControl?.dirty || descriptionControl?.touched)
                            }"></span>
                        </div>
                        <div *ngIf="descriptionControl?.invalid && (descriptionControl?.dirty || descriptionControl?.touched)">
                            <div class="invalid" *ngIf="descriptionControl?.hasError('required')">Desciption is required.</div>
                        </div>
                    </div>
                    <div class="info employeeBorrowed">
                        <label>ID Borrowed</label>
                        <div>
                            <input type="text" readonly formControlName="idEmployee" (click)="openSearchIDEmployee(); stopPropagation($event)">
                        </div>
                        <div class="select-box" id="searchBoxEmployee">
                            <div class="search">
                                <input type="text" placeholder="Search..." id="inputSearchIDEmployee" formControlName="query" autocomplete="off">
                                <i class='bx bx-search'></i>
                            </div>
                            <div class="list-option">
                                <ul class="list-employee">
                                    <li (click)="getIDEmployee($event)">
                                        <p class="id-employee">-None-</p>
                                    </li>
                                    <li *ngFor="let employee of listEmployee" (click)="getIDEmployee($event)">
                                        <p class="id-employee">{{employee.ID}}</p>
                                        <p>{{employee.Name}}</p>
                                    </li>  
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="option">
                <button [disabled]="equimentUpdateForm.invalid">Save change</button>
            </div>
        </form>
    </div>
</div>